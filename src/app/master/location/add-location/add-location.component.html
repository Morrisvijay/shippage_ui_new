<section class="content">
    <div class="content-block">
      <div class="block-header">
        <!-- breadcrumb -->
        <app-breadcrumb [title]="'Add Location'" [items]="['Location']" [active_item]="'Add Location'">
        </app-breadcrumb>
      </div>
      <div class="row clearfix">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
          <div class="card ">
            <div class="body">
              <form class="m-4" [formGroup]="docForm" (ngSubmit)="onSubmit()">
                <div class="row">
                  <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Location Code</mat-label>
                      <input matInput formControlName="locationCode" required>
                      <mat-error *ngIf="docForm.get('locationCode').hasError('required')">
                        Location Code is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Region</mat-label>
                      <input matInput formControlName="region" required>
                      <mat-error *ngIf="docForm.get('region').hasError('required')">
                        Region is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>CSL Location Code</mat-label>
                      <input matInput formControlName="cslLocationCode" required>
                      <mat-error *ngIf="docForm.get('cslLocationCode').hasError('required')">
                        CSL Location Code is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Country</mat-label>
                      <input matInput formControlName="country" required>
                      <mat-error *ngIf="docForm.get('country').hasError('required')">
                        Country Name is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Location Type</mat-label>
                      <input matInput formControlName="locationType" required>
                      <mat-error *ngIf="docForm.get('locationType').hasError('required')">
                        Location Type is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Port Agent Name</mat-label>
                      <input matInput formControlName="portAgentName" required>
                      <mat-error *ngIf="docForm.get('portAgentName').hasError('required')">
                        Port Agent Name is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Location Name</mat-label>
                      <input matInput formControlName="locationName" required>
                      <mat-error *ngIf="docForm.get('locationName').hasError('required')">
                        Location Name is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Depot Vendor Name</mat-label>
                      <input matInput formControlName="depotVendorName" required> 
                      <mat-error *ngIf="docForm.get('depotVendorName').hasError('required')">
                        Depot Vendor Name is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                </div>
               <div class="row">
                  <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Port Code</mat-label>
                      <input matInput formControlName="portCode" required>
                      <mat-error *ngIf="docForm.get('portCode').hasError('required')">
                        Port Code is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Dem & Det</mat-label>
                      <input matInput formControlName="demDet" required>
                      <mat-error *ngIf="docForm.get('demDet').hasError('required')">
                        Dem & Det is required
                      </mat-error>
                    </mat-form-field>
                  </div> 
                  <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Email ID</mat-label>
                      <input matInput formControlName="email" required>
                      <mat-error *ngIf="docForm.get('email').hasError('required')">
                        Please enter a valid email address
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-2 col-lg-4 col-md-10 col-sm-10 " style="margin-left:9px;">
                    <mat-checkbox  ngInit="checked=true">Active</mat-checkbox>
                  </div> 
                </div>
               <div class="row">
                  <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Controlling Batch</mat-label>
                      <input matInput formControlName="controllingBatch" required>
                      <mat-error *ngIf="docForm.get('controllingBatch').hasError('required')">
                        Controlling Batch is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Transhipment Hub</mat-label>
                      <input matInput formControlName="transhipmentHub" required>
                      <mat-error *ngIf="docForm.get('transhipmentHub').hasError('required')">
                        Transhipment Hub is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>BL Free Days</mat-label>
                      <input matInput formControlName="blFreeDays" required>
                      <mat-error *ngIf="docForm.get('blFreeDays').hasError('required')">
                        BL Free Days is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Discharge Dwell Time(Dry)</mat-label>
                      <input matInput formControlName="dischargeDwellTimeDry" required>
                      <mat-error *ngIf="docForm.get('dischargeDwellTimeDry').hasError('required')">
                        Discharge Dwell Time is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Load Dwell Time(Dry)</mat-label>
                      <input matInput formControlName="loadDwellTimeDry" required>
                      <mat-error *ngIf="docForm.get('loadDwellTimeDry').hasError('required')">
                        Load Dwell Time is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Discharge Dwell Time(Rfr)</mat-label>
                      <input matInput formControlName="dischargeDwellTimeRfr" required>
                      <mat-error *ngIf="docForm.get('dischargeDwellTimeRfr').hasError('required')">
                        Discharge Dwell Time is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Load Dwell Time(Rfr)</mat-label>
                      <input matInput formControlName="loadDwellTime" required>
                      <mat-error *ngIf="docForm.get('loadDwellTime').hasError('required')">
                        Load Dwell Time is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Customs Transport Mode</mat-label>
                      <input matInput formControlName="customTransportMode" required>
                      <mat-error *ngIf="docForm.get('customTransportMode').hasError('required')">
                        Customs Transport Mode is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                </div>  
                <div class="row">
                  <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Carrier Name</mat-label>
                      <input matInput formControlName="carrierName" required>
                      <mat-error *ngIf="docForm.get('carrierName').hasError('required')">
                        Carrier Name is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Carrier Code</mat-label>
                      <input matInput formControlName="carrierCode" required>
                      <mat-error *ngIf="docForm.get('carrierCode').hasError('required')">
                        Carrier Code is required
                      </mat-error>
                    </mat-form-field>
                  </div>  
                  <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>TP customs Bond No</mat-label>
                      <input matInput formControlName="tpCustomsBondNo" required>
                      <mat-error *ngIf="docForm.get('tpCustomsBondNo').hasError('required')">
                        TP customs Bond No is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Port Transport Mode</mat-label>
                      <input matInput formControlName="portTransportMode" required>
                      <mat-error *ngIf="docForm.get('portTransportMode').hasError('required')">
                        Port Transport Mode is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                  <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                    <mat-label>FPOD Port Code</mat-label>
                    <input matInput formControlName="fpodPortCode" required>
                    <mat-error *ngIf="docForm.get('fpodPortCode').hasError('required')">
                      FPOD Port Code is required
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 ">
                  <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                    <mat-label>Haulage Type</mat-label>
                    <input matInput formControlName="haulageType" required>
                    <mat-error *ngIf="docForm.get('haulageType').hasError('required')">
                      FPOD Port Code is required
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-xl-2 col-lg-4 col-md-10 col-sm-10 " style="margin-left:9px;">
                  <mat-checkbox  ngInit="checked=true">RRR Block</mat-checkbox>
                </div>
              </div><br>
              <div class="row">
              <div class="col-xl-4 col-lg-6 col-md-12 col-sm-12 " style="margin-left:500px;">
                <h5>Port Free Days</h5>
              </div>
            </div><br> 
              <!-- First detail Row -->
              <div *ngFor ="let obj of dataarray; let i=index" style="border: 1px solid #35daf95e; box-shadow: 0px 0px 20px -6px rgb(0 0 0 / 67%);" 
                  class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                  <table>
                    <tr class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                      <td>
                        <button mat-mini-fab color="warn" (click)="removeRow(i)">
                          <mat-icon class="col-white">delete</mat-icon>
                        </button>
                        </td>
                        <td>
                          <mat-form-field class="example-full-width form-control-sm" appearance="outline" style="margin-left:70px;">
                            <mat-label>Port Free Days</mat-label>
                            <input matInput name ="pol{{i}}" [(ngModel)] = "obj.pol" [ngModelOptions]="{standalone: true}">
                          </mat-form-field>
                        </td>
                        <td>
                          <mat-form-field class="example-full-width form-control-sm" appearance="outline" style="margin-left:70px;">
                            <mat-label>From Date</mat-label>
                            <input matInput [matDatepicker]="picker" formControlName="fromDate">
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                          </mat-form-field>
                        </td>
                        <td>
                          <mat-form-field class="example-full-width form-control-sm" appearance="outline" style="margin-left:70px;">
                            <mat-label>To Date</mat-label>                      
                            <input matInput [matDatepicker]="picker" formControlName="toDate">
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>  
                          </mat-form-field>
                        </td>
                    </tr>
                </table>
              </div><br> 
              <div>
                <button mat-mini-fab color="primary" (click)="addRow()">
                  <mat-icon class="col-white">add</mat-icon>
                </button>
              </div><br>
              <div class="row"> 
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-3">
                  <button *ngIf="!edit" (click) = "onSubmit()" class="btn-space" mat-raised-button
                  color="accent" style="margin-left: 36%;background-color: #34d034;">Submit</button>
                  <button *ngIf="edit" (click) = "update()" class="btn-space" mat-raised-button color="accent" style="margin-left: 36%;background-color: #34d034;">Update</button>
                  <button (click) = "reset()" class="btn-space" mat-raised-button
                    color="primary" >Reset</button>
                  <button (click) = "onCancel()" color="warn" type="button" mat-raised-button>Cancel</button>
                </div>
              </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>